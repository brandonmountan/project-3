{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Form from\"react-bootstrap/Form\";import ListGroup from\"react-bootstrap/ListGroup\";import GameCard from\"./GameCard\";import\"../../styles/gamePage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function GamePage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setSearchResults=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),displayedResultsFor=_useState6[0],setDisplayedResultsFor=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),formSubmitted=_useState8[0],setFormSubmitted=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),selectedGame=_useState10[0],setSelectedGame=_useState10[1];useEffect(function(){function fetchGameSuggestions(){return _fetchGameSuggestions.apply(this,arguments);}function _fetchGameSuggestions(){_fetchGameSuggestions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(searchTerm.trim()===\"\")){_context.next=4;break;}setSearchResults([]);return _context.abrupt(\"return\");case 4:_context.next=6;return axios.get(\"https://api.rawg.io/api/games\",{params:{key:process.env.REACT_APP_RAWG_API_KEY,search:searchTerm,page_size:10// Limit the number of results\n}});case 6:response=_context.sent;console.log(response.data);setSearchResults(response.data.results);if(formSubmitted){setFormSubmitted(false);}else{// If there are search results, set the first result's name as displayedResultsFor\nsetDisplayedResultsFor(response.data.results.length>0?response.data.results[0].name:searchTerm);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching game suggestions\",_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return _fetchGameSuggestions.apply(this,arguments);}fetchGameSuggestions();},[searchTerm,formSubmitted]);var handleItemClick=function handleItemClick(clickedItem){setSearchTerm(clickedItem.name);setSearchResults([]);setDisplayedResultsFor(clickedItem.name);setSelectedGame(clickedItem);handleFormSubmit();};var handleFormSubmit=function handleFormSubmit(){if(searchTerm.trim()===\"\"){return;}setFormSubmitted(true);setSearchTerm(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"game-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-search\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Game Search\"}),/*#__PURE__*/_jsx(Form,{onSubmit:function onSubmit(e){return e.preventDefault();},children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"searchTerm\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Search for a game\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);},onFocus:function onFocus(){if(searchTerm.trim()!==\"\"){// Only show the dropdown if there is text in the input field\nsetSearchResults([]);}}})})}),formSubmitted&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Displaying results for: \",displayedResultsFor]}),searchResults.length>0&&/*#__PURE__*/_jsx(ListGroup,{children:searchResults.map(function(game){return/*#__PURE__*/_jsx(ListGroup.Item,{onClick:function onClick(){return handleItemClick(game);},children:game.name},game.id);})})]}),selectedGame&&/*#__PURE__*/_jsx(GameCard,{game:selectedGame})]});}export default GamePage;","map":{"version":3,"names":["React","useState","useEffect","axios","Form","ListGroup","GameCard","jsx","_jsx","jsxs","_jsxs","GamePage","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","searchResults","setSearchResults","_useState5","_useState6","displayedResultsFor","setDisplayedResultsFor","_useState7","_useState8","formSubmitted","setFormSubmitted","_useState9","_useState10","selectedGame","setSelectedGame","fetchGameSuggestions","_fetchGameSuggestions","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","trim","abrupt","get","params","key","process","env","REACT_APP_RAWG_API_KEY","search","page_size","sent","console","log","data","results","length","name","t0","error","stop","handleItemClick","clickedItem","handleFormSubmit","className","children","onSubmit","e","preventDefault","Group","controlId","Control","type","placeholder","value","onChange","target","onFocus","map","game","Item","onClick","id"],"sources":["C:/Users/Daniel/bootcamp/project-3/project-3-app/client/src/components/pages/GamePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Form from \"react-bootstrap/Form\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport GameCard from \"./GameCard\";\nimport \"../../styles/gamePage.css\";\n\nfunction GamePage() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [displayedResultsFor, setDisplayedResultsFor] = useState(\"\");\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const [selectedGame, setSelectedGame] = useState(null); \n\n  useEffect(() => {\n   \n    async function fetchGameSuggestions() {\n      try {\n        if (searchTerm.trim() === \"\") {\n          setSearchResults([]); \n          return;\n        }\n\n        const response = await axios.get(\n          \"https://api.rawg.io/api/games\",\n          {\n            params: {\n              key: process.env.REACT_APP_RAWG_API_KEY,\n              search: searchTerm,\n              page_size: 10, // Limit the number of results\n            },\n          }\n        );\n\n        console.log(response.data);\n\n        setSearchResults(response.data.results);\n\n        if (formSubmitted) {\n          setFormSubmitted(false);\n        } else {\n          // If there are search results, set the first result's name as displayedResultsFor\n          setDisplayedResultsFor(\n            response.data.results.length > 0\n              ? response.data.results[0].name\n              : searchTerm\n          );\n        }\n      } catch (error) {\n        console.error(\"Error fetching game suggestions\", error);\n      }\n    }\n\n    fetchGameSuggestions();\n  }, [searchTerm, formSubmitted]);\n\n  const handleItemClick = (clickedItem) => {\n    setSearchTerm(clickedItem.name);\n    setSearchResults([]); \n    setDisplayedResultsFor(clickedItem.name); \n    setSelectedGame(clickedItem); \n    handleFormSubmit(); \n  };\n\n  const handleFormSubmit = () => {\n    if (searchTerm.trim() === \"\") {\n      return;\n    }\n\n    setFormSubmitted(true);\n    setSearchTerm(\"\"); \n  };\n\n  return (\n    <div className=\"game-page\">\n      <div className=\"game-search\">\n        <h2>Game Search</h2>\n        <Form onSubmit={(e) => e.preventDefault()}>\n          <Form.Group controlId=\"searchTerm\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Search for a game\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              onFocus={() => {\n                if (searchTerm.trim() !== \"\") {\n                  // Only show the dropdown if there is text in the input field\n                  setSearchResults([]);\n                }\n              }}\n            />\n          </Form.Group>\n        </Form>\n        {formSubmitted && (\n          <p>Displaying results for: {displayedResultsFor}</p>\n        )}\n        {searchResults.length > 0 && (\n          <ListGroup>\n            {searchResults.map((game) => (\n              <ListGroup.Item\n                key={game.id}\n                onClick={() => handleItemClick(game)}\n              >\n                {game.name}\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n        )}\n      </div>\n      {selectedGame && <GameCard game={selectedGame} />}\n    </div>\n  );\n}\n\nexport default GamePage;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}