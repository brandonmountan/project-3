{"ast":null,"code":"import React from'react';import{useParams}from'react-router-dom';import{useQuery}from'@apollo/client';import Auth from'../utils/auth';import{QUERY_USER,QUERY_ME}from'../utils/queries';import Card from'react-bootstrap/Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){var _useParams=useParams(),userParam=_useParams.username;var _useQuery=useQuery(userParam==='me'?QUERY_ME:QUERY_USER,{variables:{username:userParam==='me'?undefined:userParam}}),loading=_useQuery.loading,data=_useQuery.data;var user=(data===null||data===void 0?void 0:data.me)||(data===null||data===void 0?void 0:data.user)||{};var message='';// if (Auth.loggedIn()) {\n//   if (userParam === 'me' || Auth.getProfile().data.username === userParam) {\n//     // User is viewing their own profile\n//     message = `Welcome to your profile, ${user.username}!`;\n//     // Display the user's personal introduction if available\n//     if (user.personalIntroduction) {\n//       message += ` ${user.personalIntroduction}`;\n//     }\n//   } else {\n//     // User is viewing someone else's profile\n//     message = `You're viewing another user's profile, ${user.username}.`;\n//   }\n// } else {\n//   // User is not logged in\n//   message = `You're viewing another user's profile, ${user.username}.`;\n// }\n//this assigns profile to \"me\" properly now\nif(Auth.loggedIn()){if(userParam==='me'||Auth.getProfile().username===userParam){console.log(\"welcome \"+user);// returns UNDEFINED\n// User is viewing their own profile\nmessage=\"Welcome to your profile, \".concat(user.username,\"!\");// Display the user's personal introduction if available\nif(user.personalIntroduction){message+=\" \".concat(user.personalIntroduction);}}else{// User is viewing someone else's profile\nmessage=\"You're viewing another user's profile, \".concat(userParam,\".\");}}else{// User is not logged in\nmessage=\"You're viewing another user's profile, \".concat(userParam,\".\");}if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(Card,{className:\"m-5\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:message}),Auth.loggedIn()?/*#__PURE__*/ // me\n_jsx(\"p\",{children:\"Additional content for the logged-in user.\"}):/*#__PURE__*/ // other user\n_jsx(\"p\",{children:\"Additional content for others viewing the profile.\"}),userParam!=='me'&&!Auth.loggedIn()&&/*#__PURE__*/_jsx(\"p\",{children:\"This is a placeholder for the public profile page.\"})]})});}export default Profile;","map":{"version":3,"names":["React","useParams","useQuery","Auth","QUERY_USER","QUERY_ME","Card","jsx","_jsx","jsxs","_jsxs","Profile","_useParams","userParam","username","_useQuery","variables","undefined","loading","data","user","me","message","loggedIn","getProfile","console","log","concat","personalIntroduction","children","className","Body"],"sources":["C:/Users/Daniel/bootcamp/project-3/project-3-app/client/src/components/pages/Profile.js"],"sourcesContent":["import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { QUERY_USER, QUERY_ME } from '../utils/queries';\n\nimport Card from 'react-bootstrap/Card';\n\nfunction Profile() {\n  const { username: userParam } = useParams();\n  const { loading, data } = useQuery(userParam === 'me' ? QUERY_ME : QUERY_USER, {\n    variables: { username: userParam === 'me' ? undefined : userParam },\n  });\n  const user = data?.me || data?.user || {};\n\n  let message = '';\n  \n  // if (Auth.loggedIn()) {\n  //   if (userParam === 'me' || Auth.getProfile().data.username === userParam) {\n  //     // User is viewing their own profile\n  //     message = `Welcome to your profile, ${user.username}!`;\n\n  //     // Display the user's personal introduction if available\n  //     if (user.personalIntroduction) {\n  //       message += ` ${user.personalIntroduction}`;\n  //     }\n  //   } else {\n  //     // User is viewing someone else's profile\n  //     message = `You're viewing another user's profile, ${user.username}.`;\n  //   }\n  // } else {\n  //   // User is not logged in\n  //   message = `You're viewing another user's profile, ${user.username}.`;\n  // }\n\n  //this assigns profile to \"me\" properly now\n  if (Auth.loggedIn()) {\n    if (userParam === 'me' || Auth.getProfile().username === userParam) {\n      console.log(\"welcome \" + user) // returns UNDEFINED\n\n      // User is viewing their own profile\n      message = `Welcome to your profile, ${user.username}!`;\n  \n      // Display the user's personal introduction if available\n      if (user.personalIntroduction) {\n        message += ` ${user.personalIntroduction}`;\n      }\n    } else {\n      // User is viewing someone else's profile\n      message = `You're viewing another user's profile, ${userParam}.`;\n    }\n  } else {\n    // User is not logged in\n    message = `You're viewing another user's profile, ${userParam}.`;\n  }\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Card className=\"m-5\">\n      <Card.Body className=\"p-5\">\n        <p>{message}</p>\n        {Auth.loggedIn() ? (\n          // me\n          <p>Additional content for the logged-in user.</p>\n        ) : (\n          // other user\n          <p>Additional content for others viewing the profile.</p>\n        )}\n        {/* Placeholder content */}\n        {userParam !== 'me' && !Auth.loggedIn() && (\n          <p>This is a placeholder for the public profile page.</p>\n        )}\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default Profile;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,MAAO,CAAAC,IAAI,KAAM,eAAe,CAChC,OAASC,UAAU,CAAEC,QAAQ,KAAQ,kBAAkB,CAEvD,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,IAAAC,UAAA,CAAgCX,SAAS,CAAC,CAAC,CAAzBY,SAAS,CAAAD,UAAA,CAAnBE,QAAQ,CAChB,IAAAC,SAAA,CAA0Bb,QAAQ,CAACW,SAAS,GAAK,IAAI,CAAGR,QAAQ,CAAGD,UAAU,CAAE,CAC7EY,SAAS,CAAE,CAAEF,QAAQ,CAAED,SAAS,GAAK,IAAI,CAAGI,SAAS,CAAGJ,SAAU,CACpE,CAAC,CAAC,CAFMK,OAAO,CAAAH,SAAA,CAAPG,OAAO,CAAEC,IAAI,CAAAJ,SAAA,CAAJI,IAAI,CAGrB,GAAM,CAAAC,IAAI,CAAG,CAAAD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEE,EAAE,IAAIF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,IAAI,GAAI,CAAC,CAAC,CAEzC,GAAI,CAAAE,OAAO,CAAG,EAAE,CAEhB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,GAAInB,IAAI,CAACoB,QAAQ,CAAC,CAAC,CAAE,CACnB,GAAIV,SAAS,GAAK,IAAI,EAAIV,IAAI,CAACqB,UAAU,CAAC,CAAC,CAACV,QAAQ,GAAKD,SAAS,CAAE,CAClEY,OAAO,CAACC,GAAG,CAAC,UAAU,CAAGN,IAAI,CAAC,CAAC;AAE/B;AACAE,OAAO,6BAAAK,MAAA,CAA+BP,IAAI,CAACN,QAAQ,KAAG,CAEtD;AACA,GAAIM,IAAI,CAACQ,oBAAoB,CAAE,CAC7BN,OAAO,MAAAK,MAAA,CAAQP,IAAI,CAACQ,oBAAoB,CAAE,CAC5C,CACF,CAAC,IAAM,CACL;AACAN,OAAO,2CAAAK,MAAA,CAA6Cd,SAAS,KAAG,CAClE,CACF,CAAC,IAAM,CACL;AACAS,OAAO,2CAAAK,MAAA,CAA6Cd,SAAS,KAAG,CAClE,CAEA,GAAIK,OAAO,CAAE,CACX,mBAAOV,IAAA,QAAAqB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,mBACErB,IAAA,CAACF,IAAI,EAACwB,SAAS,CAAC,KAAK,CAAAD,QAAA,cACnBnB,KAAA,CAACJ,IAAI,CAACyB,IAAI,EAACD,SAAS,CAAC,KAAK,CAAAD,QAAA,eACxBrB,IAAA,MAAAqB,QAAA,CAAIP,OAAO,CAAI,CAAC,CACfnB,IAAI,CAACoB,QAAQ,CAAC,CAAC,eACd;AACAf,IAAA,MAAAqB,QAAA,CAAG,4CAA0C,CAAG,CAAC,eAEjD;AACArB,IAAA,MAAAqB,QAAA,CAAG,oDAAkD,CAAG,CACzD,CAEAhB,SAAS,GAAK,IAAI,EAAI,CAACV,IAAI,CAACoB,QAAQ,CAAC,CAAC,eACrCf,IAAA,MAAAqB,QAAA,CAAG,oDAAkD,CAAG,CACzD,EACQ,CAAC,CACR,CAAC,CAEX,CAEA,cAAe,CAAAlB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}