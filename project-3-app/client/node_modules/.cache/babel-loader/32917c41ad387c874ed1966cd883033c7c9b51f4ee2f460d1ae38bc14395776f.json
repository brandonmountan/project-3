{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Daniel/bootcamp/project-3/project-3-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../../../src/App.css';import React,{useState}from'react';import{useMutation}from'@apollo/client';import{Link,useNavigate}from'react-router-dom';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{ADD_USER}from'../utils/mutations';import Auth from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useState=useState({username:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=useMutation(ADD_USER),_useMutation2=_slicedToArray(_useMutation,2),addUser=_useMutation2[0],error=_useMutation2[1].error;var navigate=useNavigate();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$addUser,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addUser({variables:_objectSpread({},formState)});case 4:_yield$addUser=_context.sent;data=_yield$addUser.data;Auth.login(data.addUser.token);// navigate to redirect to the profile page\nnavigate('/profile');_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"forms-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-form\",children:[/*#__PURE__*/_jsxs(Form,{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign-up\"}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"signupName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"username\",placeholder:\"Enter name\",value:formState.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"signupEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Enter email\",value:formState.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"signupPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Password\",value:formState.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error.message})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})});};export default Signup;","map":{"version":3,"names":["React","useState","useMutation","Link","useNavigate","Form","Button","ADD_USER","Auth","jsx","_jsx","jsxs","_jsxs","Signup","_useState","username","email","password","_useState2","_slicedToArray","formState","setFormState","_useMutation","_useMutation2","addUser","error","navigate","handleChange","event","_event$target","target","name","value","_objectSpread","_defineProperty","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$addUser","data","wrap","_callee$","_context","prev","next","preventDefault","variables","sent","login","token","t0","console","stop","_x","apply","arguments","className","children","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","variant","message","to"],"sources":["C:/Users/Daniel/bootcamp/project-3/project-3-app/client/src/components/pages/Signup.js"],"sourcesContent":["import '../../../src/App.css';\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nconst Signup = () => {\n  const [formState, setFormState] = useState({ username: '', email: '', password: '' });\n  const [addUser, { error }] = useMutation(ADD_USER);\n  const navigate = useNavigate(); \n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await addUser({\n        variables: { ...formState },\n      });\n\n      Auth.login(data.addUser.token);\n\n      // navigate to redirect to the profile page\n      navigate('/profile');\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <div className=\"forms-container\">\n      <div className=\"signup-form\">\n        <Form onSubmit={handleFormSubmit}>\n          <h2>Sign-up</h2>\n          <Form.Group controlId=\"signupName\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"Enter name\"\n              value={formState.username}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"signupEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter email\"\n              value={formState.email}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"signupPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={formState.password}\n              onChange={handleChange}\n            />\n          </Form.Group>\n          <Button variant=\"success\" type=\"submit\">\n            Sign Up\n          </Button>\n          {error && <p className=\"error-message\">{error.message}</p>}\n        </Form>\n        <p>\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}